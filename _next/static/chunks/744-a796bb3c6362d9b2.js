(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{56284:function(e){e.exports=function(){return e={926:e=>{function t(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(a,o){var s=e.apply(r,n);function i(e){t(s,a,o,i,c,"next",e)}function c(e){t(s,a,o,i,c,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},713:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},757:(e,t,r)=>{e.exports=r(666)},714:e=>{e.exports={swap:{ETHEREUM:"0x657E383EdB9A7407E468acBCc9Fe4C9730c7C275",RINKEBY:"0x4275f11887a9eA761A2dcF8aa9cc3d7A2Db9924A",POLYGON:"0x4ee6e8885b684a3de405a3dca83b8823a5acf216",MUMBAI:"0x42B7a2f083f05De5C231Ac15C440A01Ce26e2F5B"},royaltyRegistriesEngines:{ETHEREUM:"0x0385603ab55642cb4Dd5De3aE9e306809991804f",RINKEBY:"0x8d17687ea9a6bb6efA24ec11DcFab01661b2ddcd",POLYGON:"0x28EdFcF0Be7E86b07493466e7631a213bDe8eEF2",MUMBAI:"0x0a01E11887f727D1b1Cd81251eeEE9BEE4262D07",XDAI:""},contractAbi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_swapId",type:"uint256"},{indexed:!0,internalType:"address",name:"_counterpart",type:"address"}],name:"counterpartEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"paymentReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_flagFlatFee",type:"bool"},{indexed:!1,internalType:"uint256",name:"_flatFee",type:"uint256"},{indexed:!1,internalType:"bool",name:"_flagRoyalties",type:"bool"},{indexed:!1,internalType:"uint256",name:"_bps",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_scalePercent",type:"uint256"}],name:"paymentStructEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_engineAddress",type:"address"},{indexed:!1,internalType:"address",name:"_tradeSquad",type:"address"},{indexed:!1,internalType:"address",name:"_partnerSquad",type:"address"},{indexed:!1,internalType:"address",name:"_vault",type:"address"}],name:"referenceAddressEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_creator",type:"address"},{indexed:!0,internalType:"uint256",name:"_time",type:"uint256"},{indexed:!0,internalType:"enum NFTTraderSwapRoyaltiesV1.swapStatus",name:"_status",type:"uint8"},{indexed:!1,internalType:"uint256",name:"_swapId",type:"uint256"},{indexed:!1,internalType:"address",name:"_counterpart",type:"address"},{indexed:!1,internalType:"address",name:"_referral",type:"address"}],name:"swapEvent",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"bannedAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"}],name:"cancelSwapIntent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"address",name:"_referral",type:"address"}],name:"closeSwapIntent",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address payable",name:"addressMaker",type:"address"},{internalType:"bool",name:"discountMaker",type:"bool"},{internalType:"uint256",name:"valueMaker",type:"uint256"},{internalType:"uint256",name:"flatFeeMaker",type:"uint256"},{internalType:"address payable",name:"addressTaker",type:"address"},{internalType:"bool",name:"discountTaker",type:"bool"},{internalType:"uint256",name:"valueTaker",type:"uint256"},{internalType:"uint256",name:"flatFeeTaker",type:"uint256"},{internalType:"uint256",name:"swapStart",type:"uint256"},{internalType:"uint256",name:"swapEnd",type:"uint256"},{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"enum NFTTraderSwapRoyaltiesV1.swapStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"royaltiesMaker",type:"uint256"},{internalType:"uint256",name:"royaltiesTaker",type:"uint256"}],internalType:"struct NFTTraderSwapRoyaltiesV1.swapIntent",name:"_swapIntent",type:"tuple"},{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enum NFTTraderSwapRoyaltiesV1.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct NFTTraderSwapRoyaltiesV1.swapStruct[]",name:"_nftsMaker",type:"tuple[]"},{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enum NFTTraderSwapRoyaltiesV1.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct NFTTraderSwapRoyaltiesV1.swapStruct[]",name:"_nftsTaker",type:"tuple[]"},{internalType:"address",name:"_referral",type:"address"}],name:"createSwapIntent",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"address payable",name:"_counterPart",type:"address"}],name:"editCounterPart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"flipBannedAddressState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"flipRoyaltiesState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getERC20WhiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getNFTBlacklist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"}],name:"getSwapIntentById",outputs:[{components:[{internalType:"address payable",name:"addressMaker",type:"address"},{internalType:"bool",name:"discountMaker",type:"bool"},{internalType:"uint256",name:"valueMaker",type:"uint256"},{internalType:"uint256",name:"flatFeeMaker",type:"uint256"},{internalType:"address payable",name:"addressTaker",type:"address"},{internalType:"bool",name:"discountTaker",type:"bool"},{internalType:"uint256",name:"valueTaker",type:"uint256"},{internalType:"uint256",name:"flatFeeTaker",type:"uint256"},{internalType:"uint256",name:"swapStart",type:"uint256"},{internalType:"uint256",name:"swapEnd",type:"uint256"},{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"enum NFTTraderSwapRoyaltiesV1.swapStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"royaltiesMaker",type:"uint256"},{internalType:"uint256",name:"royaltiesTaker",type:"uint256"}],internalType:"struct NFTTraderSwapRoyaltiesV1.swapIntent",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"bool",name:"_nfts",type:"bool"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"getSwapStruct",outputs:[{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enum NFTTraderSwapRoyaltiesV1.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct NFTTraderSwapRoyaltiesV1.swapStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"bool",name:"_nfts",type:"bool"}],name:"getSwapStructSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"pauseContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"payment",outputs:[{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"uint256",name:"flatFee",type:"uint256"},{internalType:"uint256",name:"bps",type:"uint256"},{internalType:"uint256",name:"scalePercent",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referenceAddress",outputs:[{internalType:"address",name:"ROYALTYENGINEADDRESS",type:"address"},{internalType:"address",name:"TRADESQUAD",type:"address"},{internalType:"address",name:"PARTNERSQUAD",type:"address"},{internalType:"address payable",name:"VAULT",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dapp",type:"address"},{internalType:"bool",name:"_status",type:"bool"}],name:"setERC20Whitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dapp",type:"address"},{internalType:"bool",name:"_status",type:"bool"}],name:"setNFTBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_flagFlatFee",type:"bool"},{internalType:"uint256",name:"_flatFee",type:"uint256"},{internalType:"bool",name:"_flagRoyalties",type:"bool"},{internalType:"uint256",name:"_bps",type:"uint256"},{internalType:"uint256",name:"_scalePercent",type:"uint256"}],name:"setPaymentStruct",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_engineAddress",type:"address"},{internalType:"address",name:"_tradeSquad",type:"address"},{internalType:"address",name:"_partnerSquad",type:"address"},{internalType:"address payable",name:"_vault",type:"address"}],name:"setReferenceAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],erc721Abi:[{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],erc20Abi:[{inputs:[{internalType:"uint256",name:"chainId_",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"bool",name:"allowed",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"pull",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"push",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],royaltyRegistryEngineAbi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royaltyRegistry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"royaltyRegistry_",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"getRoyalty",outputs:[{internalType:"address payable[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"getRoyaltyView",outputs:[{internalType:"address payable[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"}]}},319:e=>{e.exports={events:["createSwapTransactionCreated","createSwapTransactionMined","createSwapTransactionError","cancelSwapTransactionCreated","cancelSwapTransactionMined","cancelSwapTransactionError","closeSwapTransactionCreated","closeSwapTransactionMined","closeSwapTransactionError","editTakerTransactionCreated","editTakerTransactionMined","editTakerTransactionError"]}},579:(e,t,r)=>{var n=r(57);e.exports=n},57:(e,t,r)=>{var n=r(757),a=r(713),o=r(926);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=r(714),u=c.swap,p=c.royaltyRegistriesEngines,l=c.contractAbi,d=c.erc721Abi,h=c.royaltyRegistryEngineAbi,y=r(319).events;function m(e){var t=this,r=e.ethers,n=e.web3Provider,a=e.jsonRpcProvider,o=e.network,s=e.signer,i=void 0===s?null:s,c=e.avoidPrivateKeySigner,p=void 0!==c&&c;if(!r)throw new Error("You must provide an ethers instance to the SDK.");if(this.ethers=r,this.provider=null,this.contractAddress=null,this.contract=null,this.signer=null,this.isJsonRpcProvider=!1,this.isWeb3Provider=!1,this.blocksNumberConfirmationRequired=3,this.avoidPrivateKeySigner=p,this.events=y,this.eventsCollectorCallbacks=[],this.events.forEach((function(e){t.eventsCollectorCallbacks.push({name:e,callbacks:[]})})),n&&a)throw new Error("just one provider at a time is supported.");if("string"!=typeof a&&void 0!==a)throw new Error("jsonRpcProvider must be a string -> Eg. https://rinkeby.infura.io/v3/...");if("string"==typeof n&&void 0!==n)throw new Error("web3Provider must be an object -> Eg. window.ethereum");if(void 0===u[o])throw new Error("network not supported.");if("string"==typeof a){if(!1===this.avoidPrivateKeySigner){if(null==i)throw new Error("signer is mandatory if you use a JSON RPC Provider.");if(void 0===i.privateKey)throw new Error("signer object must have a privateKey property.")}this.isJsonRpcProvider=!0}null!=n&&(this.isWeb3Provider=!0);try{if(this.isJsonRpcProvider){if(this.provider=new this.ethers.providers.JsonRpcProvider(a),!1===this.avoidPrivateKeySigner)try{this.signer=new this.ethers.Wallet(i.privateKey,this.provider)}catch(e){throw new Error("provide a valid private key for the signer.")}}else this.isWeb3Provider&&(n instanceof this.ethers.providers.Web3Provider?this.provider=n:this.provider=new this.ethers.providers.Web3Provider(n));this.contractAddress=u[o],this.contract=new this.ethers.Contract(this.contractAddress,l,this.provider),this.isJsonRpcProvider&&!1===this.avoidPrivateKeySigner&&(this.contract=this.contract.connect(this.signer))}catch(e){throw new Error(e)}}m.prototype.on=function(e,t){var r=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!r)throw new Error("event not supported.");r.callbacks.push(t)},m.prototype.off=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!r)throw new Error("event not supported.");if(null!==t&&"function"!=typeof t&&void 0!==t)throw new Error("callback must be a Function.");if(t){var n=r.callbacks.findIndex((function(e){return e.toString()===t.toString()}));r.callbacks.splice(n,1)}else r.callbacks=[]},m.prototype.__emit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!r)throw new Error(error);r.callbacks.forEach((function(e){e(t)}))},m.prototype.setBlocksNumberConfirmationRequired=function(e){if(e<1)throw new Error("blocksNumberConfirmationRequired cannot be lower than one.");this.blocksNumberConfirmationRequired=e},m.prototype.createSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l,h,y,m,f,v,b,w,g,T,k,E,S,x,P,_,A,R,N,I,M,O,C,D,j,L,B,F,Y,K,U,G,W,q,J,z,H,$=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ethMaker,a=t.taker,o=t.ethTaker,s=t.swapEnd,c=void 0===s?0:s,u=t.assetsMaker,p=void 0===u?[]:u,l=t.assetsTaker,h=void 0===l?[]:l,y=t.referralAddress,m=void 0===y?"0x0000000000000000000000000000000000000000":y,f=$.length>1&&void 0!==$[1]?$[1]:2e6,v=$.length>2&&void 0!==$[2]?$[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot create a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:if(!(c<0)){e.next=7;break}throw new Error("swapEnd cannot be lower than zero.");case 7:if("string"==typeof r){e.next=9;break}throw new Error("ethMaker must be a string.");case 9:if("string"==typeof o){e.next=11;break}throw new Error("ethTaker must be a string.");case 11:if(!this.isJsonRpcProvider){e.next=15;break}e.t0=this.signer.address,e.next=18;break;case 15:return e.next=17,this.provider.listAccounts();case 17:e.t0=e.sent[0];case 18:return b=e.t0,w=!1,g=this.ethers.BigNumber.from(r),T=0,k=a,E=!1,S=this.ethers.BigNumber.from(o),x=0,P=0,_=!1,A=!1,R=0,N=0,I=0,M=[b,w,g.toString(),T,k,E,S.toString(),x,P,c,_,A,R,N,I],O=!1,e.prev=34,e.next=37,this.getPayment();case 37:return D=e.sent,j=D.flatFee,C=j,e.next=42,this.getReferenceAddress();case 42:return L=e.sent,B=L.TRADESQUAD,F=L.PARTNERSQUAD,Y=new this.ethers.Contract(B,d,this.provider),K=new this.ethers.Contract(F,d,this.provider),e.next=49,Y.balanceOf(b);case 49:return U=e.sent,e.next=52,K.balanceOf(b);case 52:G=e.sent,(U.gt(0)||G.gt(0))&&(O=!0),e.next=59;break;case 56:throw e.prev=56,e.t1=e.catch(34),new Error(e.t1);case 59:return(W={}).value=O?g.toString():g.add(C).toString(),f&&(W.gasLimit=f),v&&(W.gasPrice=v),J=this.contract,this.isWeb3Provider&&(q=this.provider.getSigner(b),J=this.contract.connect(q)),e.prev=65,e.next=68,J.createSwapIntent(M,p,h,m,i({},W));case 68:return z=e.sent,this.__emit("createSwapTransactionCreated",{tx:z}),e.prev=70,e.next=73,z.wait(this.blocksNumberConfirmationRequired);case 73:H=e.sent,this.__emit("createSwapTransactionMined",{receipt:H}),e.next=80;break;case 77:e.prev=77,e.t2=e.catch(70),this.__emit("createSwapTransactionError",{error:e.t2,typeError:"waitError"});case 80:e.next=85;break;case 82:e.prev=82,e.t3=e.catch(65),this.__emit("createSwapTransactionError",{error:e.t3,typeError:"createSwapIntentError"});case 85:case"end":return e.stop()}}),e,this,[[34,56],[65,82],[70,77]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.estimateGasCreateSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l,h,y,m,f,v,b,w,g,T,k,E,S,x,P,_,A,R,N,I,M,O,C,D,j,L,B,F,Y,K,U,G,W,q,J,z,H=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ethMaker,a=t.taker,o=t.ethTaker,s=t.swapEnd,c=void 0===s?0:s,u=t.assetsMaker,p=void 0===u?[]:u,l=t.assetsTaker,h=void 0===l?[]:l,y=t.referralAddress,m=void 0===y?"0x0000000000000000000000000000000000000000":y,f=H.length>1&&void 0!==H[1]?H[1]:2e6,v=H.length>2&&void 0!==H[2]?H[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot create a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:if(!(c<0)){e.next=7;break}throw new Error("swapEnd cannot be lower than zero.");case 7:if("string"==typeof r){e.next=9;break}throw new Error("ethMaker must be a string.");case 9:if("string"==typeof o){e.next=11;break}throw new Error("ethTaker must be a string.");case 11:if(!this.isJsonRpcProvider){e.next=15;break}e.t0=this.signer.address,e.next=18;break;case 15:return e.next=17,this.provider.listAccounts();case 17:e.t0=e.sent[0];case 18:return b=e.t0,w=!1,g=this.ethers.BigNumber.from(r),T=0,k=a,E=!1,S=this.ethers.BigNumber.from(o),x=0,P=0,_=!1,A=!1,R=0,N=0,I=0,M=[b,w,g.toString(),T,k,E,S.toString(),x,P,c,_,A,R,N,I],O=!1,e.prev=34,e.next=37,this.getPayment();case 37:return D=e.sent,j=D.flatFee,C=j,e.next=42,this.getReferenceAddress();case 42:return L=e.sent,B=L.TRADESQUAD,F=L.PARTNERSQUAD,Y=new this.ethers.Contract(B,d,this.provider),K=new this.ethers.Contract(F,d,this.provider),e.next=49,Y.balanceOf(b);case 49:return U=e.sent,e.next=52,K.balanceOf(b);case 52:G=e.sent,(U.gt(0)||G.gt(0))&&(O=!0),e.next=59;break;case 56:throw e.prev=56,e.t1=e.catch(34),new Error(e.t1);case 59:return(W={}).value=O?g.toString():g.add(C).toString(),f&&(W.gasLimit=f),v&&(W.gasPrice=v),J=this.contract,this.isWeb3Provider&&(q=this.provider.getSigner(b),J=this.contract.connect(q)),e.prev=65,e.next=68,J.estimateGas.createSwapIntent(M,p,h,m,i({},W));case 68:return z=e.sent,e.abrupt("return",z);case 72:return e.prev=72,e.t2=e.catch(65),console.error(e.t2),e.abrupt("return",null);case 76:case"end":return e.stop()}}),e,this,[[34,56],[65,72]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.closeSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l,h,y,m,f,v,b,w,g,T,k,E,S,x,P,_,A,R,N=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.swapId,a=t.referralAddress,o=void 0===a?"0x0000000000000000000000000000000000000000":a,s=N.length>1&&void 0!==N[1]?N[1]:2e6,c=N.length>2&&void 0!==N[2]?N[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot close a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:return e.prev=5,u=!1,e.next=9,this.getPayment();case 9:if(p=e.sent,l=p.flatFee,h=l,!this.isJsonRpcProvider){e.next=16;break}e.t0=this.signer.address,e.next=19;break;case 16:return e.next=18,this.provider.listAccounts();case 18:e.t0=e.sent[0];case 19:return y=e.t0,e.next=22,this.getSwapDetails(r);case 22:return m=e.sent,f=m.valueTaker,e.next=26,this.getReferenceAddress();case 26:return v=e.sent,b=v.TRADESQUAD,w=v.PARTNERSQUAD,g=new this.ethers.Contract(b,d,this.provider),T=new this.ethers.Contract(w,d,this.provider),e.next=33,g.balanceOf(y);case 33:return k=e.sent,e.next=36,T.balanceOf(y);case 36:if(E=e.sent,(k.gt(0)||E.gt(0))&&(u=!0),(S={}).value=u?f.toString():f.add(h).toString(),s&&(S.gasLimit=s),c&&(S.gasPrice=c),_=this.contract,!this.isWeb3Provider){e.next=49;break}return e.next=46,this.provider.listAccounts();case 46:x=e.sent[0],P=this.provider.getSigner(x),_=this.contract.connect(P);case 49:return e.prev=49,e.next=52,_.closeSwapIntent(r,o,i({},S));case 52:return A=e.sent,this.__emit("closeSwapTransactionCreated",{tx:A}),e.prev=54,e.next=57,A.wait(this.blocksNumberConfirmationRequired);case 57:R=e.sent,this.__emit("closeSwapTransactionMined",{receipt:R}),e.next=64;break;case 61:e.prev=61,e.t1=e.catch(54),this.__emit("closeSwapTransactionError",{error:e.t1,typeError:"waitError"});case 64:e.next=69;break;case 66:e.prev=66,e.t2=e.catch(49),this.__emit("closeSwapTransactionError",{error:e.t2,typeError:"closeSwapIntentError"});case 69:e.next=74;break;case 71:throw e.prev=71,e.t3=e.catch(5),new Error(e.t3);case 74:case"end":return e.stop()}}),e,this,[[5,71],[49,66],[54,61]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.estimateGasCloseSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l,h,y,m,f,v,b,w,g,T,k,E,S,x,P,_,A,R=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.swapId,a=t.referralAddress,o=void 0===a?"0x0000000000000000000000000000000000000000":a,s=R.length>1&&void 0!==R[1]?R[1]:2e6,c=R.length>2&&void 0!==R[2]?R[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot close a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:return e.prev=5,u=!1,e.next=9,this.getPayment();case 9:if(p=e.sent,l=p.flatFee,h=l,!this.isJsonRpcProvider){e.next=16;break}e.t0=this.signer.address,e.next=19;break;case 16:return e.next=18,this.provider.listAccounts();case 18:e.t0=e.sent[0];case 19:return y=e.t0,e.next=22,this.getSwapDetails(r);case 22:return m=e.sent,f=m.valueTaker,e.next=26,this.getReferenceAddress();case 26:return v=e.sent,b=v.TRADESQUAD,w=v.PARTNERSQUAD,g=new this.ethers.Contract(b,d,this.provider),T=new this.ethers.Contract(w,d,this.provider),e.next=33,g.balanceOf(y);case 33:return k=e.sent,e.next=36,T.balanceOf(y);case 36:if(E=e.sent,(k.gt(0)||E.gt(0))&&(u=!0),(S={}).value=u?f.toString():f.add(h).toString(),s&&(S.gasLimit=s),c&&(S.gasPrice=c),_=this.contract,!this.isWeb3Provider){e.next=49;break}return e.next=46,this.provider.listAccounts();case 46:x=e.sent[0],P=this.provider.getSigner(x),_=this.contract.connect(P);case 49:return e.prev=49,e.next=52,_.estimateGas.closeSwapIntent(r,o,i({},S));case 52:return A=e.sent,e.abrupt("return",A);case 56:return e.prev=56,e.t1=e.catch(49),console.error(e.t1),e.abrupt("return",null);case 60:e.next=65;break;case 62:throw e.prev=62,e.t2=e.catch(5),new Error(e.t2);case 65:case"end":return e.stop()}}),e,this,[[5,62],[49,56]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.cancelSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l,d=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:2e6,a=d.length>2&&void 0!==d[2]?d[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot cancel a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(o={},r&&(o.gasLimit=r),a&&(o.gasPrice=a),u=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:s=e.sent[0],c=this.provider.getSigner(s),u=this.contract.connect(c);case 14:return e.prev=14,e.next=17,u.cancelSwapIntent(t,i({},o));case 17:return p=e.sent,this.__emit("cancelSwapTransactionCreated",{tx:p}),e.prev=19,e.next=22,p.wait(this.blocksNumberConfirmationRequired);case 22:l=e.sent,this.__emit("cancelSwapTransactionMined",{receipt:l}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),this.__emit("cancelSwapTransactionError",{error:e.t0,typeError:"waitError"});case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(14),this.__emit("cancelSwapTransactionError",{error:e.t1,typeError:"cancelSwapIntentError"});case 34:case"end":return e.stop()}}),e,this,[[14,31],[19,26]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.estimateGasCancelSwap=function(){var e=o(n.mark((function e(t){var r,a,o,s,c,u,p,l=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:2e6,a=l.length>2&&void 0!==l[2]?l[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot cancel a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(o={},r&&(o.gasLimit=r),a&&(o.gasPrice=a),u=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:s=e.sent[0],c=this.provider.getSigner(s),u=this.contract.connect(c);case 14:return e.prev=14,e.next=17,u.estimateGas.cancelSwapIntent(t,i({},o));case 17:return p=e.sent,e.abrupt("return",p);case 21:return e.prev=21,e.t0=e.catch(14),console.error(e.t0),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.editTaker=function(){var e=o(n.mark((function e(t,r){var a,o,s,c,u,p,l,d,h=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:2e6,o=h.length>3&&void 0!==h[3]?h[3]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot edit the taker of a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(s={},a&&(s.gasLimit=a),o&&(s.gasPrice=o),p=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:c=e.sent[0],u=this.provider.getSigner(c),p=this.contract.connect(u);case 14:return e.prev=14,e.next=17,p.editCounterPart(t,r,i({},s));case 17:return l=e.sent,this.__emit("editTakerTransactionCreated",{tx:l}),e.prev=19,e.next=22,l.wait(this.blocksNumberConfirmationRequired);case 22:d=e.sent,this.__emit("editTakerTransactionMined",{receipt:d}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),this.__emit("editTakerTransactionError",{error:e.t0,typeError:"waitError"});case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(14),this.__emit("editTakerTransactionError",{error:e.t1,typeError:"editCounterpartError"});case 34:case"end":return e.stop()}}),e,this,[[14,31],[19,26]])})));return function(t,r){return e.apply(this,arguments)}}(),m.prototype.estimateGasEditTaker=function(){var e=o(n.mark((function e(t,r){var a,o,s,c,u,p,l,d=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>2&&void 0!==d[2]?d[2]:2e6,o=d.length>3&&void 0!==d[3]?d[3]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot edit the taker of a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(s={},a&&(s.gasLimit=a),o&&(s.gasPrice=o),p=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:c=e.sent[0],u=this.provider.getSigner(c),p=this.contract.connect(u);case 14:return e.prev=14,e.next=17,p.estimateGas.editCounterPart(t,r,i({},s));case 17:return l=e.sent,e.abrupt("return",l);case 21:return e.prev=21,e.t0=e.catch(14),console.error(e.t0),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t,r){return e.apply(this,arguments)}}(),m.prototype.getSwapDetails=function(){var e=o(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getSwapIntentById(t);case 3:return r=e.sent,addressMaker=r.addressMaker,discountMaker=r.discountMaker,valueMaker=r.valueMaker,flatFeeMaker=r.flatFeeMaker,addressTaker=r.addressTaker,discountTaker=r.discountTaker,valueTaker=r.valueTaker,flatFeeTaker=r.flatFeeTaker,swapStart=r.swapStart,swapEnd=r.swapEnd,flagFlatFee=r.flagFlatFee,flagRoyalties=r.flagRoyalties,status=r.status,royaltiesMaker=r.royaltiesMaker,royaltiesTaker=r.royaltiesTaker,e.abrupt("return",r);case 22:throw e.prev=22,e.t0=e.catch(0),new Error(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.getSwapAssets=function(){var e=o(n.mark((function e(t){var r,a,o,s,i,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getSwapStructSize(t,!0);case 3:return r=e.sent,e.next=6,this.contract.getSwapStructSize(t,!1);case 6:a=e.sent,o=[],s=[],i=0;case 10:if(!(i<r)){e.next=19;break}return e.t0=o,e.next=14,this.contract.getSwapStruct(t,!0,i);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:i++,e.next=10;break;case 19:c=0;case 20:if(!(c<a)){e.next=29;break}return e.t2=s,e.next=24,this.contract.getSwapStruct(t,!1,c);case 24:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 26:c++,e.next=20;break;case 29:return e.abrupt("return",{assetsMaker:o,assetsTaker:s});case 32:throw e.prev=32,e.t4=e.catch(0),new Error(e.t4);case 35:case"end":return e.stop()}}),e,this,[[0,32]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.isERC20WhiteListed=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getERC20WhiteList(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.isNFTBlacklisted=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getNFTBlacklist(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.getPayment=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.payment();case 3:return t=e.sent,flagFlatFee=t.flagFlatFee,flagRoyalties=t.flagRoyalties,flatFee=t.flatFee,bps=t.bps,scalePercent=t.scalePercent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),m.prototype.getReferenceAddress=o(n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.referenceAddress();case 3:return t=e.sent,ROYALTYENGINEADDRESS=t.ROYALTYENGINEADDRESS,TRADESQUAD=t.TRADESQUAD,PARTNERSQUAD=t.PARTNERSQUAD,VAULT=t.VAULT,e.abrupt("return",t);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),m.prototype.isBannedAddress=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.bannedAddress(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m.prototype.getEthersJSInstance=function(){return this.ethers},m.prototype.getNetworksAvailable=function(){return u},m.prototype.getRoyaltyRegistriesEngines=function(){return p},m.prototype.getRoyaltyRegistryEngineABI=function(){return h},m.prototype.AssetsArray=function(){this.assetsArrayEthers=this.ethers,this.assetsArray=[],this.tokenConstants={ERC20:0,ERC721:1,ERC1155:2}},m.prototype.AssetsArray.prototype.addERC20Asset=function(e,t){if(isNaN(t))throw new Error("tokenAmount must be a numeric value.");this.assetsArray.push([e,this.tokenConstants.ERC20,[],[t],[0],[]])},m.prototype.AssetsArray.prototype.addERC721Asset=function(e,t){if("string"!=typeof t)throw new Error("tokenId must be a string.");this.assetsArray.push([e,this.tokenConstants.ERC721,[t],[],[],[]])},m.prototype.AssetsArray.prototype.addERC1155Asset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(t instanceof Array))throw new Error("tokenIds must be an array.");if(!(r instanceof Array))throw new Error("tokenAmounts must be an array.");if(t.length!==r.length)throw new Error("tokenIds array must have the same size of tokenAmounts array.");if(0===t.length)throw new Error("tokenIds must have at least one element.");if(0===r.length)throw new Error("tokenAmounts must have at least one element.");this.assetsArray.push([e,this.tokenConstants.ERC1155,t,r,[],[]])},m.prototype.AssetsArray.prototype.clearAssetsArray=function(){this.assetsArray=[]},m.prototype.AssetsArray.prototype.getAssetsArray=function(){return this.assetsArray},m.prototype.WebSocketProvider=function(e){var t=e.wssUrl,r=e.network,n=void 0===r?null:r;if("string"!=typeof t)throw new Error("wssUrl must be a string.");this.webSocketProviderEthers=this.ethers;try{this.webSocketProvider=n?new this.webSocketProviderEthers.providers.WebSocketProvider(t):new this.webSocketProviderEthers.providers.WebSocketProvider(t,n),this.contractAddressWebSocketProvider=this.contractAddress}catch(e){throw new Error(e)}},m.prototype.WebSocketProvider.prototype.onSwapEvent=function(e,t){var r=t.creator,n=void 0===r?null:r,a=t.time,o=void 0===a?null:a,s=t.status,i=void 0===s?null:s;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var c={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("swapEvent(address,uint256,uint8,uint256,address,address)"),n||null,o||null,i||null]};this.webSocketProvider.on(c,(function(t){e(t)}))},m.prototype.WebSocketProvider.prototype.onCounterpartEvent=function(e,t){var r=t.swapId,n=void 0===r?null:r,a=t.counterpart,o=void 0===a?null:a;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var s={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("counterpartEvent(uint256,address)"),n||null,o||null]};this.webSocketProvider.on(s,(function(t){e(t)}))},m.prototype.WebSocketProvider.prototype.onPaymentReceived=function(e,t){var r=t.payer,n=void 0===r?null:r;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var a={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("paymentReceived(address,uint256)"),n||null]};this.webSocketProvider.on(a,(function(t){e(t)}))},e.exports=m},666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new A(n||[]);return o._invoke=function(e,t,r){var n=l;return function(a,o){if(n===h)throw new Error("Generator is already running");if(n===y){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var i=x(s,r);if(i){if(i===m)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=p(e,t,r);if("normal"===c.type){if(n=r.done?y:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=y,r.method="throw",r.arg=c.arg)}}}(e,r,s),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",h="executing",y="completed",m={};function f(){}function v(){}function b(){}var w={};c(w,o,(function(){return this}));var g=Object.getPrototypeOf,T=g&&g(g(R([])));T&&T!==r&&n.call(T,o)&&(w=T);var k=b.prototype=f.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,o,s,i){var c=p(e[a],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function x(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=p(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:N}}function N(){return{value:t,done:!0}}return v.prototype=b,c(k,"constructor",b),c(b,"constructor",v),v.displayName=c(b,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,i,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var s=new S(u(t,r,n,a),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(k),c(k,i,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return i.type="throw",i.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={},function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(579);var e,t}()},89822:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return o.VZ},BigNumber:function(){return s.O$},Contract:function(){return o.CH},ContractFactory:function(){return o.lV},FixedNumber:function(){return i.xs},Signer:function(){return c.E},VoidSigner:function(){return c.b},Wallet:function(){return u.w5},Wordlist:function(){return Ie.D},constants:function(){return n},errors:function(){return g.jK},getDefaultProvider:function(){return Re},logger:function(){return Ce},providers:function(){return a},utils:function(){return Me},version:function(){return Oe},wordlists:function(){return Ne.E}});var n={};r.r(n),r.d(n,{AddressZero:function(){return p.d},EtherSymbol:function(){return h},HashZero:function(){return d.R},MaxInt256:function(){return l.PS},MaxUint256:function(){return l.Bz},MinInt256:function(){return l.$B},NegativeOne:function(){return l.tL},One:function(){return l.fh},Two:function(){return l.Py},WeiPerEther:function(){return l.Ce},Zero:function(){return l._Y}});var a={};r.r(a),r.d(a,{AlchemyProvider:function(){return C},AlchemyWebSocketProvider:function(){return O},AnkrProvider:function(){return B},BaseProvider:function(){return f.Zk},CloudflareProvider:function(){return K},EtherscanProvider:function(){return X},FallbackProvider:function(){return me},Formatter:function(){return b.Mb},InfuraProvider:function(){return ge},InfuraWebSocketProvider:function(){return we},IpcProvider:function(){return fe},JsonRpcBatchProvider:function(){return Te},JsonRpcProvider:function(){return w.r},JsonRpcSigner:function(){return w.C},NodesmithProvider:function(){return Ee},PocketProvider:function(){return Pe},Provider:function(){return y.zt},Resolver:function(){return f.H2},StaticJsonRpcProvider:function(){return R},UrlJsonRpcProvider:function(){return N},Web3Provider:function(){return _e.Q},WebSocketProvider:function(){return P},getDefaultProvider:function(){return Re},getNetwork:function(){return m.H},isCommunityResourcable:function(){return b.Ed},isCommunityResource:function(){return b.Gp},showThrottleMessage:function(){return b.vh}});var o=r(64146),s=r(2593),i=r(20335),c=r(48088),u=r(89706),p=r(9279),l=r(21046),d=r(57218);const h="\u039e";var y=r(81556),m=r(45710),f=r(97013),v=r(6881),b=r(30032),w=r(82169),g=r(1581),T=r(34216);let k=null;try{if(k=WebSocket,null==k)throw new Error("inject please")}catch(error){const t=new g.Yd(T.i);k=function(){t.throwError("WebSockets not supported in this environment",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var E=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const S=new g.Yd(T.i);let x=1;class P extends w.r{constructor(e,t){"any"===t&&S.throwError("WebSocketProvider does not support 'any' network yet",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"===typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"===typeof e?(0,v.zG)(this,"_websocket",new k(this.connection.url)):(0,v.zG)(this,"_websocket",e),(0,v.zG)(this,"_requests",{}),(0,v.zG)(this,"_subs",{}),(0,v.zG)(this,"_subIds",{}),(0,v.zG)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,v.zG)(e,"code",r.error.code||null),(0,v.zG)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){S.throwError("cannot reset events block on WebSocketProvider",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){S.throwError("cannot set polling interval on WebSocketProvider",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return E(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&S.throwError("cannot set polling on WebSocketProvider",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=x++;return new Promise(((n,a)=>{const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?a(e):n(t)},payload:o},this._wsReady&&this.websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return E(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const a=yield n;this._subs[a]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=s.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return E(this,void 0,void 0,(function*(){this.websocket.readyState===k.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}var _=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const A=new g.Yd(T.i);class R extends w.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return _(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||A.throwError("no network detected",g.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,v.zG)(this,"_network",t),this.emit("network",t,null))),t}))}}class N extends R{constructor(e,t){A.checkAbstract(new.target,N),e=(0,v.tu)(new.target,"getNetwork")(e),t=(0,v.tu)(new.target,"getApiKey")(t);super((0,v.tu)(new.target,"getUrl")(e,t),e),"string"===typeof t?(0,v.zG)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,v.zG)(this,e,t[e])}))}_startPending(){A.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return A.throwError("API provider does not support signing",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return A.throwError("not implemented; sub-classes must override getUrl",g.Yd.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const I=new g.Yd(T.i),M="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class O extends P{constructor(e,t){const r=new C(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,v.zG)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===M}}class C extends N{static getWebSocketProvider(e,t){return new O(e,t)}static getApiKey(e){return null==e?M:(e&&"string"!==typeof e&&I.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:I.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===M&&(0,b.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===M}}const D=new g.Yd(T.i),j="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function L(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return D.throwArgumentError("unsupported network","name",e)}class B extends N{isCommunityResource(){return this.apiKey===j}static getApiKey(e){return null==e?j:e}static getUrl(e,t){null==t&&(t=j);const r={allowGzip:!0,url:"https://"+L(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===j&&(0,b.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}var F=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Y=new g.Yd(T.i);class K extends N{static getApiKey(e){return null!=e&&Y.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:Y.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return F(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var U=r(16441),G=r(83875),W=r(37707),q=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const J=new g.Yd(T.i);function z(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,U.$P)((0,U.Dv)(n)):"accessList"===r?"["+(0,G.z7)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,U.Dv)(n),t[r]=n)}return t}function H(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function $(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function V(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}const Q="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Z(e,t,r){if("call"===e&&t.code===g.Yd.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,U.A7)(r))return r;J.throwError("missing revert data in call exception",g.Yd.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===g.Yd.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?n=t.error.message:"string"===typeof t.body?n=t.body:"string"===typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&J.throwError("insufficient funds for intrinsic transaction cost",g.Yd.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&J.throwError("nonce has already been used",g.Yd.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&J.throwError("replacement fee too low",g.Yd.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&J.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Yd.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class X extends f.Zk{constructor(e,t){super(e),(0,v.zG)(this,"baseUrl",this.getBaseUrl()),(0,v.zG)(this,"apiKey",t||Q)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io"}return J.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return q(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null,o="proxy"===e?$:H;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&(0,b.vh)(),Promise.resolve(!0))};let i=null;a&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},i=Object.keys(a).map((e=>`${e}=${a[e]}`)).join("&"));const c=yield(0,W.rd)(s,i,o||$);return this.emit("debug",{action:"response",request:n,response:(0,v.p$)(c),provider:this}),c}))}detectNetwork(){return q(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return q(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Z("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=z(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(error){return Z("call",error,t.transaction)}}case"estimateGas":{const e=z(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(error){return Z("estimateGas",error,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=V(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=V(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&J.throwError("unsupported topic count",g.Yd.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"===typeof r&&66===r.length||J.throwError("unsupported topic format",g.Yd.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let t=0;t<r.length;t++){const e=r[t];if(null==e.blockHash){if(null==n[e.blockNumber]){const t=yield this.getBlock(e.blockNumber);t&&(n[e.blockNumber]=t.hash)}e.blockHash=n[e.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return q(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return this.apiKey===Q}}var ee=r(52472),te=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const re=new g.Yd(T.i);function ne(){return(new Date).getTime()}function ae(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||re.throwArgumentError("provider mismatch","networks",e):t=n}return t}function oe(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],a=e[r];return null!=t&&Math.abs(n-a)>t?null:(n+a)/2}function se(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(s.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>se(e))));if("object"===typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"===typeof r?"[function]":se(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let ie=1;function ce(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const ue=[g.Yd.errors.CALL_EXCEPTION,g.Yd.errors.INSUFFICIENT_FUNDS,g.Yd.errors.NONCE_EXPIRED,g.Yd.errors.REPLACEMENT_UNDERPRICED,g.Yd.errors.UNPREDICTABLE_GAS_LIMIT],pe=["address","args","errorArgs","errorSignature","method","transaction"];function le(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function de(e,t,r){let n=se;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=oe(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return oe(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,v.DC)(e)).confirmations=-1,se(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,v.DC)(e)).transactions=e.transactions.map((e=>((e=(0,v.DC)(e)).confirmations=-1,e))),se(e))}:function(e){return null==e?null:se(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const a=Object.keys(n);for(let e=0;e<a.length;e++){const r=n[a[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function he(e,t){return te(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,W.$l)((()=>new Promise(((n,a)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function ye(e,t,r,n){return te(this,void 0,void 0,(function*(){let a=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return a[r]();case"getEtherPrice":if(a.getEtherPrice)return a.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,U.A7)(n.blockTag)&&(a=yield he(e,t)),a[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,U.A7)(n.blockTag)&&(a=yield he(e,t)),a.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,U.A7)(n.blockTag)&&(a=yield he(e,t)),a[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,U.A7)(n.blockTag)&&(a=yield he(e,t)),a[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return a[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,U.A7)(r.fromBlock)||r.toBlock&&(0,U.A7)(r.toBlock))&&(a=yield he(e,t)),a.getLogs(r)}}return re.throwError("unknown method error",g.Yd.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class me extends f.Zk{constructor(e,t){0===e.length&&re.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(y.zt.isProvider(e)){const t=(0,b.Gp)(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=(0,v.DC)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,b.Gp)(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&re.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&re.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=ae(r.map((e=>e.provider.network)));null==a&&(a=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(a),(0,v.zG)(this,"providerConfigs",Object.freeze(r)),(0,v.zG)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return te(this,void 0,void 0,(function*(){return ae(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return te(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"===typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=de(this,e,t),n=(0,ee.y)(this.providerConfigs.map(v.DC));n.sort(((e,t)=>e.priority-t.priority));const a=this._highestBlockNumber;let o=0,s=!0;for(;;){const i=ne();let c=n.filter((e=>e.runner&&i-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;c<this.quorum&&o<n.length;){const r=n[o++],s=ie++;r.start=ne(),r.staller=ce(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=ye(r,a,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:le(r,ne()),request:{method:e,params:(0,v.p$)(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:le(r,ne()),request:{method:e,params:(0,v.p$)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:le(r,null),request:{method:e,params:(0,v.p$)(t)},provider:this}),c+=r.weight}const u=[];n.forEach((e=>{!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length&&(yield Promise.race(u));const p=n.filter((e=>e.done&&null==e.error));if(p.length>=this.quorum){const e=r(p);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield ce(100).getPromise()),s=!1}const l=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return ue.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(l).forEach((e=>{const t=l[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,a={};pe.forEach((e=>{null!=r[e]&&(a[e]=r[e])})),re.throwError(r.reason||r.message,e,a)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),re.throwError("failed to meet quorum",g.Yd.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>le(e))),provider:this})}))}}const fe=null,ve=new g.Yd(T.i),be="84842078b09946638c03157f83405213";class we extends P{constructor(e,t){const r=new ge(e,t),n=r.connection;n.password&&ve.throwError("INFURA WebSocket project secrets unsupported",g.Yd.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,v.zG)(this,"apiKey",r.projectId),(0,v.zG)(this,"projectId",r.projectId),(0,v.zG)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===be}}class ge extends N{static getWebSocketProvider(e,t){return new we(e,t)}static getApiKey(e){const t={apiKey:be,projectId:be,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(ve.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),ve.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:ve.throwError("unsupported network",g.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===be&&(0,b.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===be}}class Te extends w.r{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},a=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,v.p$)(t),provider:this}),(0,W.rd)(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),a}}const ke=new g.Yd(T.i);class Ee extends N{static getApiKey(e){return e&&"string"!==typeof e&&ke.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){ke.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ke.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Se=new g.Yd(T.i),xe={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Pe extends N{constructor(e,t){if(null==t){const r=(0,v.tu)(new.target,"getNetwork")(e);if(r){const e=xe[r.name];e&&(t={applicationId:e,loadBalancer:!0})}null==t&&Se.throwError("unsupported network",g.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&Se.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(Se.assertArgument("string"===typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),Se.assertArgument("string"===typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(Se.assertArgument("string"===typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):Se.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:Se.throwError("unsupported network",g.Yd.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=null;n=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;const a={url:n,headers:{}};return null!=t.applicationSecretKey&&(a.user="",a.password=t.applicationSecretKey),a}isCommunityResource(){return this.applicationId===xe[this.network.name]}}var _e=r(241);const Ae=new g.Yd(T.i);function Re(e,t){if(null==e&&(e="homestead"),"string"===typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new w.r(e);case"ws":case"wss":return new P(e);default:Ae.throwArgumentError("unsupported URL scheme","network",e)}}const r=(0,m.H)(e);return r&&r._defaultProvider||Ae.throwError("unsupported getDefaultProvider network",g.Yd.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:me,AlchemyProvider:C,AnkrProvider:B,CloudflareProvider:K,EtherscanProvider:X,InfuraProvider:ge,JsonRpcProvider:w.r,NodesmithProvider:Ee,PocketProvider:Pe,Web3Provider:_e.Q,IpcProvider:fe},t)}var Ne=r(10234),Ie=r(48812),Me=r(53614);const Oe="ethers/5.6.9",Ce=new g.Yd(Oe)},58533:function(e,t,r){"use strict";var n=r(67294),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var s="Pixel",i="Percent",c={unit:i,value:.8};function u(e){return"number"===typeof e?{unit:i,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:s,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:i,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),c):(console.warn("scrollThreshold should be string or number"),c)}var p=function(e){function t(t){var r=e.call(this,t)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:"string"===typeof r.props.scrollableTarget?document.getElementById(r.props.scrollableTarget):(null===r.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},r.onStart=function(e){r.lastScrollTop||(r.dragging=!0,e instanceof MouseEvent?r.startY=e.pageY:e instanceof TouchEvent&&(r.startY=e.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(e){r.dragging&&(e instanceof MouseEvent?r.currentY=e.pageY:e instanceof TouchEvent&&(r.currentY=e.touches[0].pageY),r.currentY<r.startY||(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),r.currentY-r.startY>1.5*r.maxPullDownDistance||r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")}))},r.onScrollListener=function(e){"function"===typeof r.props.onScroll&&setTimeout((function(){return r.props.onScroll&&r.props.onScroll(e)}),0);var t=r.props.height||r._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;r.actionTriggered||((r.props.inverse?r.isElementAtTop(t,r.props.scrollThreshold):r.isElementAtBottom(t,r.props.scrollThreshold))&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=t.scrollTop)},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},r.throttledOnScrollListener=function(e,t,r,n){var a,o=!1,s=0;function i(){a&&clearTimeout(a)}function c(){var c=this,u=Date.now()-s,p=arguments;function l(){s=Date.now(),r.apply(c,p)}function d(){a=void 0}o||(n&&!a&&l(),i(),void 0===n&&u>e?l():!0!==t&&(a=setTimeout(n?d:l,void 0===n?e-u:e)))}return"boolean"!==typeof t&&(n=r,r=t,t=void 0),c.cancel=function(){i(),o=!0},c}(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?o(o({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=u(t);return n.unit===s?e.scrollTop<=n.value+r-e.scrollHeight+1:e.scrollTop<=n.value/100+r-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=u(t);return n.unit===s?e.scrollTop+r>=e.scrollHeight-n.value:e.scrollTop+r>=n.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=o({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return n.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},n.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&n.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},n.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(n.Component);t.Z=p}}]);