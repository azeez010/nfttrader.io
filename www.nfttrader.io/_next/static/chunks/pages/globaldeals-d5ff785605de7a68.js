(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{8358:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/globaldeals",function(){return s(58467)}])},64228:function(e,t){"use strict";t.Z={src:"/_next/static/media/collection-swap-arrows.63e91421.svg",height:23,width:31}},58467:function(e,t,s){"use strict";s.r(t);var r=s(85893),a=s(67294),c=s(44997),n=s(25239),l=s(26996),i=s(81917),o=s(22118),u=s(13019),x=s(55472),p=s(39226),f=s(48377),d=s(81732),m=s(58533),h=s(23291),j=s.n(h),g=s(12683),b=s(8222),w=s(24278),y=s(79346),N=s(99193);function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},r=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),r.forEach((function(t){v(e,t,s[t])}))}return e}t.default=function(){var e=(0,a.useState)(!1),t=e[0],s=e[1],h=(0,a.useState)(!1),v=h[0],k=h[1],S=(0,a.useState)(!1),Z=S[0],C=S[1],E=(0,a.useState)("all"),O=E[0],T=E[1],P=(0,a.useState)({source:"api",swaps:[]}),F=P[0],I=P[1],L=(0,a.useState)(""),B=L[0],R=L[1],z=(0,a.useState)(0),A=z[0],D=z[1],H=(0,a.useState)(10)[0],W=(0,a.useState)(!1),X=W[0],$=W[1],G=(0,a.useState)(0),M=G[0],V=G[1],Y=(0,a.useState)(null),q=Y[0],J=Y[1],K=(0,a.useRef)(!1),Q=(0,a.useRef)({clearInput:null}),U=(0,p.T)(),ee=(0,p.C)((function(e){return e})),te=ee.waccount,se=ee.trademodal,re=te.currentNetworkId,ae=te.isConnected,ce=se.isOpen,ne=(se.mode,function(e){K.current&&(R(e),k(!0),C(!0),D(0),I({source:"search",swaps:[]}))}),le=function(e,t){if(K.current&&k(!0),re){var r=[];r=t&&0!==t.length?[re,e,A,H,t]:[re,e,A,H],(0,u.bf)((0,x.f)(t&&0!==t.length?"getSwapListByAddress":"getFullList",r)).then((function(e){var r=e.data[0],a=r.swapList,c=r.count;K.current&&s(!1),K.current&&C(!1),K.current&&V(c),0===F.swaps.length?K.current&&I({source:t&&0!==t.length?"search":"api",swaps:a}):K.current&&(re===q?I({source:t&&0!==t.length?"search":"api",swaps:F.swaps.concat(a)}):(D(0),I({source:"api",swaps:a}))),K.current&&k(!1)})).catch((function(e){console.error(e),K.current&&s(!1),K.current&&k(!1),K.current&&C(!1)}))}};return(0,a.useEffect)((function(){t||Z||(M>F.swaps.length?(K.current&&D(A+H),K.current&&$(!0)):K.current&&$(!1))}),[F.swaps]),(0,a.useEffect)((function(){t&&0===F.swaps.length&&le(1)}),[t,F.swaps,O]),(0,a.useEffect)((function(){"search"===F.source&&0===F.swaps.length&&!0===Z&&0===A&&le(1,B)}),[B,Z,A,F]),(0,a.useEffect)((function(){ae||(V(0),D(0),I({source:"api",swaps:[]}))}),[ae,re]),(0,a.useEffect)((function(){if(re)return K.current=!0,le(1),J(re),function(){K.current=!1}}),[re]),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{}),(0,r.jsxs)("main",{children:[(0,r.jsx)("div",{className:"bg-primary-yellow",children:(0,r.jsx)(n.Z,{mainText:"Global Deals",subText:"Check what deals other Traders have made",button:(0,r.jsx)(d.Z,{text:"Create Trade",type:{class:"primary",icon:!1,hasColoredBg:!0},size:"large",initialState:{state:"default"},onClick:function(){ae?(U((0,w.eV)("maker")),U((0,w.r$)(!0)),document.body.classList.add("no-scroll")):U((0,N.$e)(!0))}})})}),(0,r.jsxs)("nav",{className:"flex flex-col justify-between mt-[20px] gap-4 max-w-[1280px] m-[auto] p-4 md:gap-0 md:p-12 md:flex-row md:items-center ",children:[(0,r.jsx)("div",{className:"flex items-center justify-center gap-4",children:(0,r.jsx)("span",{className:"all"===O?"text-primary-blue border-b-2 border-primary-blue cursor-default":"text-primary-gray cursor-pointer",onClick:function(){var e;O!==(e="all")&&(T(e),s(!0),I({source:F.source,swaps:[]}))},children:"All"})}),(0,r.jsx)(l.Z,{currentSearchState:"filled",setFilter:ne,placeholder:"Search",refClear:Q,className:"mt-[16px] md:mt-[0px]"})]}),F.swaps.length?(0,r.jsx)("div",{className:"w-full flex flex-col justify-center items-center pb-[40px] px-4 md:px-10 xl:px-0 m-auto ".concat(j().scrollableTrades),children:(0,r.jsx)(m.Z,{dataLength:F.swaps.length,hasMore:X,next:function(){le(1)},loader:(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("img",{src:g.Z.src,className:"".concat(j().rotating," w-[24px] h-[24px]")})}),className:"flex flex-col justify-center items-center gap-8 py-[30px]",children:F.swaps.map((function(e,t){return(0,r.jsx)(o.Z,{maker:_({},e.maker[0],{collections:e.collections.filter((function(e){return 1===e.creator}))}),taker:_({},e.taker[0],{collections:e.collections.filter((function(e){return 0===e.creator}))}),timestamp:e.swapEnd,swapId:e.swapId,type:e.type,txHash:e.txHash,status:e.swapStatus,className:"max-w-[1280px] w-full"},"trade-".concat(e.swapId))}))})}):"search"===F.source?(0,r.jsx)(r.Fragment,{children:v?(0,r.jsx)("div",{className:"flex justify-center items-center pb-[50px]",children:(0,r.jsx)("img",{src:g.Z.src,className:"".concat(j().rotating," w-[36px] h-[36px]")})}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[40px] gap-10 pb-[50px] md:mt-[0px]",children:[(0,r.jsx)("img",{src:f.Z.src}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("h1",{className:"text-3xl text-primary-dark-blue font-semibold text-center",children:"Sorry, your search could not be found."}),(0,r.jsx)("h3",{className:"rubik text-base font-light text-primary-dark-blue mt-[8px]",children:"Please try again."})]}),(0,r.jsx)(d.Z,{text:"Clear Search",type:{class:"primary",icon:!1,hasColoredBg:!1},initialState:{state:"default"},size:"small",onClick:function(){var e,t;null===(e=Q.current)||void 0===e||null===(t=e.clearInput)||void 0===t||t.call(e),D(0),ne("")},className:"px-[32px] py-[10px] md:py-2"})]})}):(0,r.jsx)(r.Fragment,{children:v?(0,r.jsx)("div",{className:"flex justify-center items-center pb-[50px]",children:(0,r.jsx)(b.Z,{isWhite:!1,className:"w-[36px] h-[36px]"})}):(0,r.jsx)(r.Fragment,{children:ae?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-10 pb-[50px]",children:[(0,r.jsx)("img",{src:f.Z.src}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("h1",{className:"text-3xl text-primary-dark-blue font-semibold",children:"No Results"}),(0,r.jsx)("h3",{className:"text-base font-light text-primary-dark-blue",children:"Please try again"})]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-10 pb-[50px]",children:[(0,r.jsx)("img",{src:f.Z.src}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("h1",{className:"text-3xl text-primary-dark-blue font-semibold",children:"Connect Your Wallet First"}),(0,r.jsx)("h3",{className:"text-base font-light text-primary-dark-blue",children:"Please, connect your wallet if you want to browse this page"})]})]})})})})]}),ce&&(0,r.jsx)(y.Z,{}),(0,r.jsx)(i.Z,{})]})}},23291:function(e){e.exports={rotating:"globaldeals_rotating__oothh",rotate:"globaldeals_rotate__88_yc",scrollableTrades:"globaldeals_scrollableTrades__5ZutC"}}},function(e){e.O(0,[279,744,958,889,184,365,774,888,179],(function(){return t=8358,e(e.s=t);var t}));var t=e.O();_N_E=t}]);